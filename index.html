
<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stemming gemeenteraad Ridderkerk</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Jost:wght@400;600&display=swap');
    body {
      font-family: 'Jost', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #009639;
      color: white;
    }
    header {
      text-align: center;
      padding: 3px;
    }
    header img {
      height: 130px;
    }
h2 {
  text-align: center;
  margin: 3px 0 6px;
  font-weight: 700;
  font-size: 35px;
  text-transform: uppercase;
  letter-spacing: 1px;
}
#aanwezigheid {
  text-align: center;
  margin: 10px 0;
}
    input[type="number"] {
      width: 60px;
      font-size: 18px;
      text-align: center;
    }
    table {
      width: 100%;
      table-layout: fixed;
      border-collapse: collapse;
      background: white;
      color: black;
      margin-top: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    th, td {
      text-align: center;
      padding: 10px;
      border: 1px solid #ccc;
      font-size: 18px;
    }
    .highlight-voor {
      background-color: #d2f8d2 !important;
    }
    .highlight-tegen {
      background-color: #f8d2d2 !important;
    }
    .stemknop {
      width: 70px;
      height: 70px;
      font-size: 26px;
      margin: 6px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
    }
    .voor { background-color: #c4f0c4; }
    .tegen { background-color: #f0c4c4; }
    .actief { border: 4px solid #000; }
    .score {
      text-align: center;
      font-size: 26px;
      margin-top: 20px;
      font-weight: bold;
    }
    .resultaat {
      text-align: center;
      font-size: 40px;
      font-weight: bold;
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px;
      display: block;
      min-width: 300px;
    }
    .resetknop {
      display: block;
      margin: 30px auto;
      padding: 12px 24px;
      font-size: 20px;
      background-color: white;
      color: #009639;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    .resetknop:hover {
      background-color: #e6e6e6;
    }
  </style>
</head>
<body>
  <header>
<img src="logo.png" alt="Logo Ridderkerk" />
    <h2>Stemming gemeenteraad Ridderkerk</h2>
  </header>
  <div id="aanwezigheid">
    Aanwezige leden: <input type="number" id="aanwezig" value="29" onchange="update()">
  </div>
  <table id="stemmen">
    <tr id="kop">
      <th>Fractie</th>
      <th>SGP</th><th>CDA</th><th>PvdA</th><th>Burger op 1</th><th>Echt voor Ridderkerk</th>
      <th>VVD</th><th>Leefbaar Ridderkerk</th><th>Partij 18PLUS</th><th>ChristenUnie</th><th>GroenLinks</th>
    </tr>
    <tr>
      <td>Zetels</td>
      <td><input type="number" value="5"></td>
      <td><input type="number" value="2"></td>
      <td><input type="number" value="2"></td>
      <td><input type="number" value="2"></td>
      <td><input type="number" value="2"></td>
      <td><input type="number" value="2"></td>
      <td><input type="number" value="2"></td>
      <td><input type="number" value="7"></td>
      <td><input type="number" value="3"></td>
      <td><input type="number" value="2"></td>
    </tr>
    <tr><td>VOOR</td></tr>
    <tr><td>TEGEN</td></tr>
  </table>
  <div class="score" id="score">Voor: 0 | Tegen: 0</div>
  <div class="resultaat" id="resultaat"></div>
  <button class="resetknop" onclick="resetStemmen()">Reset</button>

  <script>
    const voorRij = document.querySelectorAll('#stemmen tr')[2];
    const tegenRij = document.querySelectorAll('#stemmen tr')[3];
    const kopcellen = document.querySelectorAll('#kop th');
    const stemmen = Array(10).fill(null);
    const resultaat = document.getElementById('resultaat');
    const score = document.getElementById('score');

    for (let i = 0; i < 10; i++) {
      const voorBtn = document.createElement('button');
      voorBtn.className = 'stemknop voor';
      voorBtn.innerText = 'âœ“';
      voorBtn.onclick = () => { stemmen[i] = 'voor'; update(); highlight(i); };
      voorRij.appendChild(document.createElement('td')).appendChild(voorBtn);

      const tegenBtn = document.createElement('button');
      tegenBtn.className = 'stemknop tegen';
      tegenBtn.innerText = 'âœ—';
      tegenBtn.onclick = () => { stemmen[i] = 'tegen'; update(); highlight(i); };
      tegenRij.appendChild(document.createElement('td')).appendChild(tegenBtn);
    }

    function highlight(i) {
      const voor = voorRij.children[i + 1].firstChild;
      const tegen = tegenRij.children[i + 1].firstChild;
      voor.classList.remove('actief');
      tegen.classList.remove('actief');
      kopcellen[i + 1].classList.remove('highlight-voor', 'highlight-tegen');
      if (stemmen[i] === 'voor') {
        voor.classList.add('actief');
        kopcellen[i + 1].classList.add('highlight-voor');
      }
      else if (stemmen[i] === 'tegen') {
        tegen.classList.add('actief');
        kopcellen[i + 1].classList.add('highlight-tegen');
      }
    }

    function update() {
      let voor = 0, tegen = 0, totaal = 0;
      const inputs = document.querySelectorAll('#stemmen tr:nth-child(2) input');
      inputs.forEach((input, i) => {
        const z = parseInt(input.value || 0);
        totaal += z;
        if (stemmen[i] === 'voor') voor += z;
        else if (stemmen[i] === 'tegen') tegen += z;
      });

      const aanwezig = parseInt(document.getElementById('aanwezig').value || 0);
      score.innerText = `Voor: ${voor} | Tegen: ${tegen}`;

      resultaat.className = "resultaat";
      if (totaal !== aanwezig) {
        resultaat.innerText = 'Let op: zetels â‰  aanwezigen!';
        resultaat.style.backgroundColor = '#ffcc00';
        resultaat.style.color = '#000';
      } else if (voor > aanwezig / 2) {
        resultaat.innerText = 'AANGENOMEN';
        resultaat.style.backgroundColor = '#00cc00';
        resultaat.style.color = '#fff';
      } else if (tegen > aanwezig / 2) {
        resultaat.innerText = 'VERWORPEN';
        resultaat.style.backgroundColor = '#cc0000';
        resultaat.style.color = '#fff';
      } else if (voor === tegen && voor > 0) {
        resultaat.innerText = 'STEMMEN STAKEN';
        resultaat.style.backgroundColor = '#ff9900';
        resultaat.style.color = '#000';
      } else {
        resultaat.innerText = '';
        resultaat.style.backgroundColor = 'transparent';
      }
    }

    function resetStemmen() {
      stemmen.fill(null);
      for (let i = 0; i < 10; i++) {
        highlight(i);
      }
      update();
    }

    update();
  </script>

  <button class="resetknop" onclick="maakScreenshot()">ðŸ“¸ Maak screenshot</button>


<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
  function maakScreenshot() {
    html2canvas(document.body).then(function(canvas) {
      const link = document.createElement('a');
      link.download = 'stemuitslag.png';
      link.href = canvas.toDataURL();
      link.click();
    });
  }
</script>

</body>
</html>
